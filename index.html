<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Schooltrui VSZ</title>
  <meta name="description" content="Schooltrui van de VSZ (Vrijeschool Zutphen), hier te koop!">
  <link rel="icon" href="grijs-achterkant.png">

  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">

  <!-- Open-Graph Meta Tags -->
  <meta property="og:description"
    content="Schooltrui van de VSZ (Vrijeschool Zutphen), hier te koop!">
  <meta property="og:image" content="https://schooltrui.nl/open-graph.png">
  <meta property="og:title" content="Schooltrui VSZ">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://schooltrui.nl">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:description"
    content="Schooltrui van de VSZ (Vrijeschool Zutphen), hier te koop!">
  <meta name="twitter:image" content="https://schooltrui.nl/open-graph.png">
  <meta name="twitter:title" content="Schooltrui VSZ">
  <meta property="twitter:domain" content="schooltrui.nl">
  <meta property="twitter:url" content="https://schooltrui.nl">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    integrity="sha256-rTpdO0HXBCNpreAHcu6tB2Ppg515Vo+5GtYSsnNLz+8=" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bulma-carousel@4.0.24/dist/js/bulma-carousel.min.js"
    integrity="sha256-qKR77yzVBkDYKuoSg2BpAIbMtmF8aFjuTHFVnIjkpzI=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-carousel@4.0.24/dist/css/bulma-carousel.min.css"
    integrity="sha256-nVhrDZU/ne3I/z6LXWEbyUOEmv79sPGKEbsP7SWLkHI=" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/countdown@2.6.0/countdown.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
</header>
<main class="hero is-medium container">
  <section class="hero-body columns">
    <div class="hero-image column is-half container has-text-centered carousel carousel-inactive">
      <figure class="item-1 image"><img alt="Schooltrui VSZ" src="img/schooltrui-2.png"></figure>
      <figure class="item-2 image"><img alt="Schooltrui VSZ" src="img/schooltrui-3.png"></figure>
      <figure class="item-3 image"><img alt="Schooltrui VSZ" src="img/schooltrui-4.png"></figure>
      <figure class="item-4 image"><img alt="Schooltrui VSZ" src="img/schooltrui-5.png"></figure>
      <figure class="item-5 image"><img alt="Schooltrui VSZ" src="img/schooltrui-1.png"></figure>
    </div>

    <!-- @FIXME: Add Product RDFa for Search Engines -->
    <div class="hero-info column is-half container">
      <h1 class="title has-text-left is-1">Schooltrui VSZ</h1>
      <div>
        <p class="has-text-left price is-size-4 mb-6">
          €24,99 <span class="small">euro</span>
          <span class="send is-size-6 is-hidden">(plus €7,65 verzendkosten)</span>
        </p>
        <p class="mb-2">Hoe wil je de trui ontvangen?</p>
        <ul data-js="tags" class=" tags mb-5 ">
          <li class="tag is-medium is-rounded" data-link="pickup">Ophalen</li>
          <li class="tag is-medium is-rounded" data-link="send">Verzenden</li>
        </ul>
        <p class="buy-now mt-6">
          <a data-js="pay-link" class="button is-large is-fullwidth" href="#">Bestel nu</a>
        </p>
        <p class="mt-4">
          Kijk voor veelgestelde vragen, informatie over verzenden/ophalen, en levertijden hier beneden.
        </p>
      </div>
    </div>
  </section>
</main>
<section class="content section columns">
  <article class="information column">
    <h2>Verzenden / Ophalen</h2>
    <p>U kunt er voor kiezen om de trui op te halen op de locatie Weerdslag van de Vrijeschool in Zutphen.</p>
    <p>Mocht u de trui liever toegezonden krijgen, dan kan dat ook, tegen verzendkosten.</p>
    <p>Als de trui klaar is voor ophalen of verzenden, ontvangt u een mailtje met meer details</p>
  </article>
  <article class="information column">
    <h2>Levertijd</h2>
    <p>Het bestel traject van de schooltrui is als volgt:</p>
    <ul>
      <li>Eerst worden alle bestellingen opgenomen</li>
      <li>Als iedereen besteld en betaald heeft worden de truien door de fabrikant gemaakt</li>
      <li>Wanneer alle truien zijn geleverd kunnen ze worden opgehaald of verzonden</li>
      <li>Alle truien zullen uiterlijk 7 juli verzonden (of opgehaald) worden.</li>
    </ul>
  </article>
</section>
<section class="content section columns mb-6">
  <article class="information column">
    <h2>Veelgestelde Vragen</h2>
    <ul>
      <li><strong class="is-size-5">Hoe vallen de maten uit?</strong><br>
        De maten vallen goed, niet te groot niet te klein.
        Het model op de fotos draagt normaal een maat L, en in de foto ook een L.
      </li>
    </ul>
  </article>
</section>
<section class="container section box has-text-centered mb-6">
  <h2 class="title">Vul je email adres in om op de hoogte te blijven!</h2>
  <iframe
    src="https://docs.google.com/forms/d/e/1FAIpQLScxXVXKS2eeiIdDE20BgIJub5Hco8TiH7oYRkqzmEWGSNoKKA/viewform?embedded=true"
    width="640" height="500" frameborder="0" marginheight="0" marginwidth="0">Loading…
  </iframe>
</section>
<footer class="footer">
  <nav class="columns has-text-centered">
    <div class="level column">
      <div class="level-item is-flex-direction-column">
        <figure class="image is-128x128">
          <a href="https://www.instagram.com/schooltruivsz/">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <radialGradient id="a" cx="56.4" cy="19.2" r="711.3" gradientTransform="translate(-37 444)"
                gradientUnits="userSpaceOnUse">
                <stop offset="0" style="stop-color:#fed576" />
                <stop offset=".3" style="stop-color:#f47133" />
                <stop offset=".6" style="stop-color:#bc3081" />
                <stop offset="1" style="stop-color:#4c63d2" />
              </radialGradient>
              <path
                d="M96 23c-16 6-30 15-44 29-13 13-22 27-28 43s-10 34-11 60-2 34-2 101l2 102c1 26 5 44 11 59 6 17 15 30 29 44 13 14 27 22 43 28s34 11 60 12l101 1 102-1c26-2 44-6 59-12a121 121 0 0 0 72-72c6-15 11-33 12-59l1-102-1-101c-2-26-6-44-12-60s-14-30-28-43c-14-14-27-22-44-29-15-6-33-10-59-11-27-1-35-2-102-2l-101 2c-26 1-44 5-60 11zm261 33c24 1 37 5 45 9 12 4 20 9 29 18 8 9 14 17 18 28 3 9 7 22 9 46l1 99c0 65 0 74-2 100-1 24-5 37-8 45a77 77 0 0 1-47 47c-8 4-21 8-45 9l-100 1-99-1c-24-1-37-5-46-9a81 81 0 0 1-47-47c-3-8-7-21-8-45l-1-100 1-99c1-24 5-37 8-46 5-11 10-19 19-28 8-9 17-14 28-18 9-4 22-8 46-9l99-1 100 1z"
                style="fill:url(#a)" />
              <radialGradient id="b" cx="154.1" cy="134.6" r="365.3" gradientTransform="translate(-24 253)"
                gradientUnits="userSpaceOnUse">
                <stop offset="0" style="stop-color:#fed576" />
                <stop offset=".3" style="stop-color:#f47133" />
                <stop offset=".6" style="stop-color:#bc3081" />
                <stop offset="1" style="stop-color:#4c63d2" />
              </radialGradient>
              <path d="M131 256a126 126 0 1 0 253 0 126 126 0 0 0-253 0zm208 0a82 82 0 1 1-164 0 82 82 0 0 1 164 0z"
                style="fill:url(#b)" />
              <circle cx="388.6" cy="125" r="29.5" style="fill:#654c9f" />
            </svg>
          </a>
        </figure>
        <p><a href="https://www.instagram.com/schooltruivsz/">volg ons ook op Instagram</a></p>
      </div>
    </div>
  </nav>
</footer>
<script>
  function handleTagEvent(event) {
    if (event.target !== event.currentTarget) {
      const isActive = event.target.classList.contains('is-active')
      event.currentTarget.querySelectorAll('.tag').forEach(element => element.classList.remove('is-active'))

      if (event.target.dataset.link === 'send') {
        document.querySelector('.send').classList.remove('is-hidden')
      } else {
        document.querySelector('.send').classList.add('is-hidden')
      }

      if (isActive === false) {
        event.target.classList.add('is-active')
      }
    }
  }

  function attachCountdown(container, end) {
    let units = countdown.DAYS | countdown.HOURS | countdown.MINUTES | countdown.SECONDS

    countdown.setFormat({
      singular: ' milliseconde| seconde| minuut| uur| dag| week| maand| jaar| decennium| eeuw| millennium',
      plural: ' milliseconden| seconden| minuten| uren| dagen| weken| maanden| jaren| decennia| eeuwen| millennia',
      last: '\n',
      delim: '\n',
      empty: '',
      formatter: (value, unit) => {
        const singularLabels = ['seconde', 'minuut', 'uur', 'dag']
        const pluralLabels = ['seconden', 'minuten', 'uren', 'dagen']
        return `
        <span class="tag is-size-5 is-size-6-touch is-size-7-mobile">${value}</span>
        ${(value === 1) ? singularLabels[unit - 1] : pluralLabels[unit - 1]}
      `
      }
    })

    let lastRender = 1; // timestamp of the last render() call
    function updateCountdownHtml(now) {
      if (now - lastRender >= 1000) {
        lastRender = now
        container.innerHTML = countdown(null, end, units, 4, 0).toHTML('li')
      }
      requestAnimationFrame(updateCountdownHtml)
    }

    requestAnimationFrame(updateCountdownHtml)
  }

  const payLinks = {
  /* HIER KUN JE DE LINKS UIT STRIPE AANPASSEN
   * De naam, bijvoorbeeld "send" of "pickup", laten staan anders gaat het stuk!
   * Tussen de haakjes '' de link invullen, bijvoorbeeld: 'https://buy.stripe.com/live_a1b2c3d4e5f6g7h8j9'
   */
    send: 'https://buy.stripe.com/4gw00wgFSdZT9O014a?locale=nl',
    pickup: 'https://buy.stripe.com/cN2bJedtGaNHd0c9AF?locale=nl'
  }

  const payLink = document.querySelector('[data-js="pay-link"]')

  document.querySelector('[data-js="tags"]').addEventListener('click', handleTagEvent)

  function attachCarousel(selector) {
    const carousel = bulmaCarousel.attach(selector, {
      "autoplay": false, // Autoplay carousel
      "autoplaySpeed": 3000, // Time between each transition when autoplay is active (ms)
      "duration": 300, // Transition animation duration (in ms)
      "effect": "translate", // Animation effect for item transition (translate|fade)
      "infinite": true, // Activate infinite display mode
      "initialSlide": 0, //Initial item index
      "loop": false, // Activate loop display mode
      "navigation": true, // Display navigation buttons
      "navigationKeys": true, // Enable navigation with arrow keys
      "navigationSwipe": true, // Enable swipe navigation
      "pagination": true, // Display pagination bullets
      "pauseOnHover": true, // Stop autoplay when cursor hover carousel
      "slidesToScroll": 1, // Slide to scroll on each step
      "slidesToShow": 1, // Slides to show at a time
      "timing": "ease", // Transiation animation type
    })

    window.addEventListener('resize', () => {
      carousel[0].reset()
    })
  }

  payLink.addEventListener('click', (event) => {
    event.preventDefault()
    // get send or pickup
    const tag = document.querySelector('[data-js="tags"] .is-active')

    if (! tag) {
      alert('Je moet kiezen of je de trui wilt ophalen of laten verzenden!')
    } else {
      document.location = payLinks[tag.dataset.link]
    }
  })

  attachCarousel('.carousel')
</script>
</body>
</html>
